<app-navbar></app-navbar>
<div class="main">
  <button
    mat-icon-button
    class="mobile-toggle-btn"
    (click)="toggleMobileSidenav(sidenav)"
    *ngIf="isMobile && !isSidenavOpened"
  >
    <mat-icon>menu</mat-icon>
  </button>
  <mat-sidenav-container
    class="sidenav-container"
    (backdropClick)="isMobile && closeMobileSidenav(sidenav)"
  >
    <mat-sidenav
      #sidenav
      [mode]="isMobile ? 'over' : 'side'"
      [opened]="!isMobile"
      [ngStyle]="{ 'width.em': sidenavWidth }"
      (mouseenter)="!isMobile && increase(sidenav)"
      (mouseleave)="!isMobile && decrease(sidenav)"
      class="sidenav"
      [class.mobile-sidenav]="isMobile"
      fixedInViewport
    >
      <div class="sidenav-header" *ngIf="sidenavWidth > 6">
        <div class="header-content">
          <div class="header-icon">
            <mat-icon>dashboard</mat-icon>
          </div>
          <span class="header-text">{{ "navbar.menu" | translate }}</span>
        </div>
      </div>

      <mat-nav-list class="nav-list">
        <mat-list-item
          routerLink="/inventory"
          routerLinkActive="active"
          *ngIf="showTab('inventory')"
          class="nav-item"
          (click)="isMobile && closeMobileSidenav(sidenav)"
        >
          <div class="nav-item-content">
            <div class="nav-icon">
              <mat-icon>inventory</mat-icon>
            </div>
            <div *ngIf="sidenavWidth > 6" class="nav-label">
              <span class="nav-text">{{
                "navbar.availability" | translate
              }}</span>
            </div>
          </div>
          <div class="nav-indicator" *ngIf="sidenavWidth <= 6"></div>
        </mat-list-item>

        <mat-list-item
          routerLink="/orders"
          routerLinkActive="active"
          *ngIf="showTab('orders')"
          class="nav-item"
          (click)="isMobile && closeMobileSidenav(sidenav)"
        >
          <div class="nav-item-content">
            <div class="nav-icon">
              <mat-icon>
                <span class="material-symbols-outlined">
                  order_approve
                </span></mat-icon
              >
            </div>
            <div *ngIf="sidenavWidth > 6" class="nav-label">
              <span class="nav-text">{{ "navbar.orders" | translate }}</span>
            </div>
          </div>
          <div class="nav-indicator" *ngIf="sidenavWidth <= 6"></div>
        </mat-list-item>

        <mat-list-item
          routerLink="/sewing-queue"
          routerLinkActive="active"
          *ngIf="showTab('sewing-queue')"
          class="nav-item"
          (click)="isMobile && closeMobileSidenav(sidenav)"
        >
          <div class="nav-item-content">
            <div class="nav-icon">
              <mat-icon>checkroom</mat-icon>
            </div>
            <div *ngIf="sidenavWidth > 6" class="nav-label">
              <span class="nav-text">{{
                "navbar.sewing-queue" | translate
              }}</span>
            </div>
          </div>
          <div class="nav-indicator" *ngIf="sidenavWidth <= 6"></div>
        </mat-list-item>

        <mat-list-item
          routerLink="/crm-settings"
          routerLinkActive="active"
          *ngIf="showTab('crm-settings')"
          class="nav-item"
          (click)="isMobile && closeMobileSidenav(sidenav)"
        >
          <div class="nav-item-content">
            <div class="nav-icon">
              <mat-icon>settings</mat-icon>
            </div>
            <div *ngIf="sidenavWidth > 6" class="nav-label">
              <span class="nav-text">{{
                "navbar.crm-settings" | translate
              }}</span>
            </div>
          </div>
          <div class="nav-indicator" *ngIf="sidenavWidth <= 6"></div>
        </mat-list-item>
      </mat-nav-list>

      <div class="sidenav-footer" *ngIf="sidenavWidth > 6">
        <div class="footer-content">
          <mat-icon class="footer-icon">info</mat-icon>
          <span class="footer-text">{{ version }}</span>
        </div>
      </div>
    </mat-sidenav>

    <mat-sidenav-content class="main-content">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
