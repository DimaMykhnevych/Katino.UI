<h1 mat-dialog-title>
  <div *ngIf="data.isAdding">
    {{ "adminFeatures.addingCategory" | translate }}
  </div>
  <div *ngIf="!data.isAdding">
    {{ "adminFeatures.updatingCategory" | translate }}
  </div>
</h1>
<div mat-dialog-content>
  <ng-container>
    <form [formGroup]="form">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-12">
          <mat-form-field appearance="outline" class="category-form-input">
            <mat-label>{{ "common.name" | translate }}</mat-label>
            <input
              matInput
              type="text"
              formControlName="name"
              placeholder="{{ 'inventory.categoryName' | translate }}"
              required
            />
            <mat-error *ngIf="name?.invalid && name?.touched">
              {{ "validation.requiredField" | translate }}
            </mat-error></mat-form-field
          >
        </div>

        <div class="col-lg-12 col-md-12 col-12">
          <mat-form-field appearance="outline" class="category-form-input">
            <mat-label>{{ "common.description" | translate }}</mat-label>
            <textarea
              rows="2"
              matInput
              formControlName="description"
              placeholder="{{ 'inventory.categoryDescription' | translate }}"
            ></textarea>
          </mat-form-field>
        </div>
      </div>
    </form>
  </ng-container>
</div>
<div mat-dialog-actions>
  <button
    mat-stroked-button
    color="warn"
    mat-dialog-close="false"
    [disabled]="isRetrievingData"
  >
    {{ "common.close" | translate }}
  </button>
  <button
    type="submit"
    mat-button
    [disabled]="form.invalid || isRetrievingData"
    (click)="onAddEditClick()"
  >
    <ng-container *ngIf="!isRetrievingData">
      <span *ngIf="data?.isAdding">{{ "common.add" | translate }}</span>
      <span *ngIf="!data?.isAdding">{{
        "common.update" | translate
      }}</span></ng-container
    >

    <div *ngIf="isRetrievingData" class="spinner-container">
      <mat-spinner diameter="20" color="accent"></mat-spinner>
      <span *ngIf="data?.isAdding" class="loading-text">{{
        "common.addingButtonText" | translate
      }}</span>
      <span *ngIf="!data?.isAdding" class="loading-text">{{
        "common.updatingButtonText" | translate
      }}</span>
    </div>
  </button>
</div>
